# Учет финансов

## Общая идея решения

Проект представляет собой систему учета финансов, которая позволяет пользователям управлять банковскими счетами, категориями доходов/расходов и финансовыми операциями. Основной функционал включает:

1. **Управление банковскими счетами**:
   - Создание, редактирование и удаление счетов.
   - Пополнение и снятие средств со счетов.
   - Пересчет баланса счета на основе операций.

2. **Управление категориями**:
   - Создание, редактирование и удаление категорий доходов и расходов.

3. **Управление операциями**:
   - Создание, редактирование и удаление операций (доходы/расходы).
   - Автоматическое обновление баланса счета при добавлении операций.

4. **Аналитика**:
   - Расчет разницы между доходами и расходами за выбранный период.

5. **Импорт/экспорт данных**:
   - Экспорт данных в форматы CSV и JSON.
   - Импорт данных из CSV и JSON.

6. **Паттерны проектирования**:
   - Использование паттернов для обеспечения гибкости, расширяемости и удобства тестирования.

## Принципы SOLID и GRASP

### Принципы SOLID

1. **Single Responsibility Principle (SRP)**:
   - Каждый класс отвечает за одну задачу.
     - `FinanceFacade` отвечает за управление финансовыми операциями.
     - `FinanceManager` отвечает за хранение и обработку данных.
     - `CsvExporter` и `JsonExporter` отвечают за экспорт данных в соответствующие форматы.

2. **Open/Closed Principle (OCP)**:
   - Классы открыты для расширения, но закрыты для модификации.
     - `DataExporter` и `DataImporter` позволяют добавлять новые форматы экспорта/импорта без изменения существующего кода.

3. **Liskov Substitution Principle (LSP)**:
   - Наследники могут использоваться вместо базовых классов.
     - `CsvExporter` и `JsonExporter` могут использоваться вместо `DataExporter`.

4. **Interface Segregation Principle (ISP)**:
   - Интерфейсы разделены на мелкие.
     - `IFinanceManager` содержит только методы, необходимые для управления финансовыми данными.

5. **Dependency Inversion Principle (DIP)**:
   - Зависимости на абстракциях, а не на конкретных классах.
     - `FinanceFacade` зависит от `IFinanceManager`, а не от конкретной реализации.

### Принципы GRASP

1. **High Cohesion**:
   - Классы имеют высокую связность.
     - `FinanceManager` содержит только методы для работы с финансовыми данными.
     - `CsvExporter` отвечает только за экспорт в CSV.

2. **Low Coupling**:
   - Классы слабо связаны между собой.
     - `FinanceFacade` зависит только от абстракций (`IFinanceManager`), а не от конкретных реализаций.

3. **Creator**:
   - Классы создают объекты, которые они используют.
     - `FinanceFacade` создает банковские счета, категории и операции.

4. **Controller**:
   - `FinanceFacade` выступает в роли контроллера, управляющего всеми финансовыми операциями.

## Паттерны GoF

### Порождающие паттерны

1. **Фабрика (Factory)**:
   - Используется для создания объектов банковских счетов, категорий и операций.
   - Реализован в классе `Factory`.
   - Упрощает создание объектов и обеспечивает централизованное управление их созданием.

2. **Одиночка (Singleton)**:
   - Неявно используется для `FinanceManager`, так как он управляет всеми данными в системе.
   - Гарантирует, что в системе существует только один экземпляр менеджера финансов.

### Структурные паттерны

1. **Фасад (Facade)**:
   - Реализован в классе `FinanceFacade`.
   - Упрощает взаимодействие с системой, предоставляя единый интерфейс для управления финансами.

2. **Декоратор (Decorator)**:
   - Реализован в классе `LoggingDecorator`.
   - Добавляет функциональность логирования времени выполнения команд без изменения их кода.

3. **Адаптер (Adapter)**:
   - Используется в `CsvExporter` и `JsonExporter` для преобразования данных в нужный формат.
   - Позволяет работать с разными форматами данных, не изменяя основной логики.

### Поведенческие паттерны

1. **Команда (Command)**:
   - Реализован в классах `CreateAccountCommand` и других командах.
   - Инкапсулирует запросы как объекты, что позволяет легко добавлять новые команды и поддерживать отмену операций.

2. **Посетитель (Visitor)**:
   - Реализован в классах `IVisitor` и `Visitor`.
   - Позволяет добавлять новые операции для объектов без изменения их классов.

3. **Шаблонный метод (Template Method)**:
   - Реализован в классах `DataExporter` и `DataImporter`.
   - Определяет скелет алгоритма, позволяя подклассам переопределять отдельные шаги.
